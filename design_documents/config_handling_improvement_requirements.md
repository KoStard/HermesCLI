Analyse the codebase, think step by step, understand the involved concepts focusing on HermesConfig, its creation, usage. I don't like how the CLI arguments currently get converted to it. Not all arguments are for the context providers. For example --model and --pretty are completely separate, but I pass the --model through this as well, which creates confusion, as the get of the HermesConfig returns list (I made this change to make the usage with the context providers more consistent). We likely need code architecture change, new concepts to be added, old ones changed, to have separate, nice and tidy setup. Write a design doc, use ascii diagrams to show your point. Write it under design_documents/ folder. Do not yet edit any code, only write a detailed technical design document, providing context, considering alternatives, pros and cons of the different approaches, and providing your recommendation. Provide code examples, clear explanations of each option. If applicable, include analogies. Consider user experience smoothness. After providing your recommendation, show how it would look like in code inside the document.

Requirements:
1. The user should be able to specify multiple context providers, and the config should be able to hold multiple values for a single context provider (can be done through repeating the context provider with different args).
2. It should be easy to add context providers, there should be as low amount of typing as possible for the user.
3. Adding files should be the easiest. If the other options can be as easy, great.
