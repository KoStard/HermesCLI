tasks:
  read_pdf:
    type: markdown_extract
    output_mapping:
      pdf_text: result.extracted_text
  make_markdown:
    type: llm
    prompt:
      The attached markdown file is a PDF file converted to Markdown. The converter frequently doesn't do good job. I need this document for my studies. Please sanitise and clean up the document, remove the unnecessary line breaks, etc, to make it convenient to use in my studies.
      If it's listing things, just list structures.
      If there are trademarks left from the page layouts, remove them. It's my educational material, I have access to it. Things like "All rights reserved", etc. Make it ready for full immersion in studies.
      Don't translate anything, don't modify the content, only sanitisation.
      Remove any unnecessary lines, repeating symbols that are irrelevant to the material.
      Use rich markdown formatting, headings, bold, italic, etc.
      <file>
      {pdf_text}
      </file>
    print_output: true
